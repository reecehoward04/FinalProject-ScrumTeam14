{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1>Admin Login</h1>

    {% if total_sales is defined %}
        <hr>
        <h2>Admin Dashboard</h2>

        <h3 style="text-align: left;">Printing Seating Chart...</h3>
    
        <div class="card">
            {% for row in chart %}
                <div>{{ row }}</div>
            {% endfor %}
        </div>
        <h3 style="text-align: left;">Total Sales: ${{ total_sales }}</h3>

        <h3>Reservation List</h3>
        <table border="1" cellpadding="4" cellspacing="0">
            <tr>
                <th>Passenger</th>
                <th>Row</th>
                <th>Seat</th>
                <th>Reservation Code</th>
            </tr>
            {% for r in reservations %}
            <tr>
                <td>{{ r["passengerName"] }}</td>
                <td>{{ r["seatRow"] + 1 }}</td>
                <td>{{ r["seatColumn"] + 1 }}</td>
                <td>{{ r["eTicketNumber"] }}</td>
                <td>
                    <form action="{{ url_for('delete', id=r['id']) }}" method="POST">
                        <input style="background-color: red;" type="submit" value="Delete" 
                            onclick="return confirm('Are you sure you want to delete this reservation?')">
                    </form>
                </td>
            </tr>
            {% endfor %}
        </table>
    {% endif %}

    <form method="POST">
        <div style="text-align: left;">
            <br>
            <label>Username:</label>
            <br>
            <input type="text" name="username" required>
            <br><br>

            <label>Password:</label>
            <br>
            <input type="password" name="password" required>
            <br><br>

            <button type="submit">Login</button>
        </div
    </form>
</div>
{% endblock %}